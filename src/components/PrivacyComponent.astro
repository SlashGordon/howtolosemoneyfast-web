---
interface Props {
  lang: string;
  backLink: string;
  backText: string;
}

const { lang, backLink, backText } = Astro.props;

// Language-specific text
const texts = {
  en: {
    dataProtection: "Data Protection at a Glance",
    generalInfo: "General Information",
    generalInfoText: "The following information provides a simple overview of what happens to your personal data when you visit this website. Personal data is any data that can be used to identify you personally. For detailed information on data protection, please refer to our privacy policy listed below.",
    dataCollection: "Data Collection on This Website",
    whoResponsible: "Who is responsible for data collection on this website?",
    whoResponsibleText: "Data processing on this website is carried out by the website operator. You can find the contact details in the Impressum of this website.",
    howCollect: "How Do We Collect Your Data?",
    howCollectText: "Your data is collected when you provide it to us. This can be data that you enter in a contact form or through your saved preferences. Other data is collected automatically by our IT systems when you visit the website. This is primarily technical data (e.g., internet browser, operating system, or time of page view). This data is collected automatically as soon as you enter our website.",
    whatUse: "What Do We Use Your Data For?",
    whatUseText: "Part of the data is collected to ensure error-free provision of the website. Other data may be used to analyze your user behavior.",
    whatRights: "What Rights Do You Have Regarding Your Data?",
    whatRightsText: "You have the right to receive information about the origin, recipient, and purpose of your stored personal data free of charge at any time. You also have the right to request the correction, blocking, or deletion of this data. You can contact us at any time at the address given in the Impressum if you have further questions about data protection. You also have the right to lodge a complaint with the competent supervisory authority.",
    generalInfoMandatory: "General Information and Mandatory Information",
    dataProtectionSection: "Data Protection",
    dataProtectionText: "The operators of these pages take the protection of your personal data very seriously. We treat your personal data confidentially and in accordance with the statutory data protection regulations and this privacy policy.",
    responsibleParty: "Information About the Responsible Party",
    responsiblePartyText: "The responsible party for data processing on this website is:",
    country: "Germany",
    email: "Email:",
    phone: "Phone:",
    dataCollectionWebsite: "Data Collection on Our Website",
    cookies: "Cookies",
    cookiesText: "This website uses cookies to store your preferences and settings. These are small text files that are stored on your computer. These cookies do not harm your computer and do not contain viruses. Cookies serve to make our offering more user-friendly, effective, and secure.",
    localStorage: "Local Storage",
    localStorageText: "This website uses local storage to save your EuroJackpot numbers and preferences. This data is stored locally on your device and is not transmitted to our servers.",
    awstats: "AWStats",
    awstatsText: "This website uses AWStats for web analytics. AWStats analyzes server log files to provide statistics about website usage. This includes information such as visitor numbers, page views, and referrer data. No personal data is stored or transmitted to third parties.",
    netcup: "Netcup Webhosting",
    netcupText: "This website is hosted by netcup GmbH, located in Nuremberg, Germany. Server logs may be collected for technical purposes and security. All data is processed in accordance with German and European data protection laws.",
    privacyPolicy: "Privacy Policy"
  },
  de: {
    dataProtection: "Datenschutz auf einen Blick",
    generalInfo: "Allgemeine Hinweise",
    generalInfoText: "Die folgenden Hinweise geben einen einfachen Überblick darüber, was mit Ihren personenbezogenen Daten passiert, wenn Sie diese Website besuchen. Personenbezogene Daten sind alle Daten, mit denen Sie persönlich identifiziert werden können. Ausführliche Informationen zum Thema Datenschutz entnehmen Sie unserer unter diesem Text aufgeführten Datenschutzerklärung.",
    dataCollection: "Datenerfassung auf dieser Website",
    whoResponsible: "Wer ist verantwortlich für die Datenerfassung auf dieser Website?",
    whoResponsibleText: "Die Datenverarbeitung auf dieser Website erfolgt durch den Websitebetreiber. Dessen Kontaktdaten können Sie dem Impressum dieser Website entnehmen.",
    howCollect: "Wie erfassen wir Ihre Daten?",
    howCollectText: "Ihre Daten werden zum einen dadurch erhoben, dass Sie uns diese mitteilen. Hierbei kann es sich z. B. um Daten handeln, die Sie in ein Kontaktformular eingeben oder durch Ihre gespeicherten Präferenzen. Andere Daten werden automatisch beim Besuch der Website durch unsere IT-Systeme erfasst. Das sind vor allem technische Daten (z. B. Internetbrowser, Betriebssystem oder Uhrzeit des Seitenaufrufs). Die Erfassung dieser Daten erfolgt automatisch, sobald Sie diese Website betreten.",
    whatUse: "Wofür nutzen wir Ihre Daten?",
    whatUseText: "Ein Teil der Daten wird erhoben, um eine fehlerfreie Bereitstellung der Website zu gewährleisten. Andere Daten können zur Analyse Ihres Nutzerverhaltens verwendet werden.",
    whatRights: "Welche Rechte haben Sie bezüglich Ihrer Daten?",
    whatRightsText: "Sie haben jederzeit das Recht, unentgeltlich Auskunft über Herkunft, Empfänger und Zweck Ihrer gespeicherten personenbezogenen Daten zu erhalten. Sie haben außerdem ein Recht, die Berichtigung, Sperrung oder Löschung dieser Daten zu verlangen. Hierzu sowie zu weiteren Fragen zum Thema Datenschutz können Sie sich jederzeit unter der im Impressum angegebenen Adresse an uns wenden. Des Weiteren steht Ihnen ein Beschwerderecht bei der zuständigen Aufsichtsbehörde zu.",
    generalInfoMandatory: "Allgemeine Hinweise und Pflichtinformationen",
    dataProtectionSection: "Datenschutz",
    dataProtectionText: "Die Betreiber dieser Seiten nehmen den Schutz Ihrer persönlichen Daten sehr ernst. Wir behandeln Ihre personenbezogenen Daten vertraulich und entsprechend der gesetzlichen Datenschutzvorschriften sowie dieser Datenschutzerklärung.",
    responsibleParty: "Hinweis zur verantwortlichen Stelle",
    responsiblePartyText: "Die verantwortliche Stelle für die Datenverarbeitung auf dieser Website ist:",
    country: "Deutschland",
    email: "E-Mail:",
    phone: "Telefon:",
    dataCollectionWebsite: "Datenerfassung auf unserer Website",
    cookies: "Cookies",
    cookiesText: "Diese Website verwendet Cookies, um Ihre Präferenzen und Einstellungen zu speichern. Dabei handelt es sich um kleine Textdateien, die auf Ihrem Computer gespeichert werden. Diese Cookies schaden Ihrem Computer nicht und enthalten keine Viren. Cookies dienen dazu, unser Angebot nutzerfreundlicher, effektiver und sicherer zu machen.",
    localStorage: "Local Storage",
    localStorageText: "Diese Website verwendet Local Storage, um Ihre EuroJackpot-Zahlen und Präferenzen zu speichern. Diese Daten werden lokal auf Ihrem Gerät gespeichert und nicht an unsere Server übertragen.",
    awstats: "AWStats",
    awstatsText: "Diese Website verwendet AWStats für Webanalysen. AWStats analysiert Server-Logdateien, um Statistiken über die Website-Nutzung zu erstellen. Dazu gehören Informationen wie Besucherzahlen, Seitenaufrufe und Referrer-Daten. Es werden keine personenbezogenen Daten gespeichert oder an Dritte übertragen.",
    netcup: "Netcup Webhosting",
    netcupText: "Diese Website wird von der netcup GmbH mit Sitz in Nürnberg, Deutschland, gehostet. Server-Logs können zu technischen Zwecken und für die Sicherheit erfasst werden. Alle Daten werden in Übereinstimmung mit deutschen und europäischen Datenschutzgesetzen verarbeitet.",
    privacyPolicy: "Datenschutzerklärung"
  },
  es: {
    dataProtection: "Protección de Datos de un Vistazo",
    generalInfo: "Información General",
    generalInfoText: "La siguiente información proporciona una visión general simple de lo que sucede con sus datos personales cuando visita este sitio web. Los datos personales son todos aquellos datos que pueden utilizarse para identificarle personalmente. Para obtener información detallada sobre la protección de datos, consulte nuestra política de privacidad que figura a continuación.",
    dataCollection: "Recopilación de Datos en Este Sitio Web",
    whoResponsible: "¿Quién es responsable de la recopilación de datos en este sitio web?",
    whoResponsibleText: "El procesamiento de datos en este sitio web lo realiza el operador del sitio web. Puede encontrar los datos de contacto en el Aviso Legal de este sitio web.",
    howCollect: "¿Cómo Recopilamos Sus Datos?",
    howCollectText: "Sus datos se recopilan cuando usted nos los proporciona. Estos pueden ser datos que introduce en un formulario de contacto o a través de sus preferencias guardadas. Otros datos se recopilan automáticamente por nuestros sistemas de TI cuando visita el sitio web. Estos son principalmente datos técnicos (por ejemplo, navegador de Internet, sistema operativo o hora de visualización de la página). Estos datos se recopilan automáticamente tan pronto como ingresa a nuestro sitio web.",
    whatUse: "¿Para Qué Utilizamos Sus Datos?",
    whatUseText: "Parte de los datos se recopilan para garantizar la provisión sin errores del sitio web. Otros datos pueden utilizarse para analizar su comportamiento como usuario.",
    whatRights: "¿Qué Derechos Tiene Respecto a Sus Datos?",
    whatRightsText: "Tiene derecho a recibir información gratuita sobre el origen, destinatario y finalidad de sus datos personales almacenados en cualquier momento. También tiene derecho a solicitar la corrección, bloqueo o eliminación de estos datos. Puede contactarnos en cualquier momento en la dirección indicada en el Aviso Legal si tiene más preguntas sobre la protección de datos. También tiene derecho a presentar una queja ante la autoridad supervisora competente.",
    generalInfoMandatory: "Información General y Obligatoria",
    dataProtectionSection: "Protección de Datos",
    dataProtectionText: "Los operadores de estas páginas se toman muy en serio la protección de sus datos personales. Tratamos sus datos personales de forma confidencial y de acuerdo con las disposiciones legales de protección de datos y esta política de privacidad.",
    responsibleParty: "Información Sobre la Parte Responsable",
    responsiblePartyText: "La parte responsable del procesamiento de datos en este sitio web es:",
    country: "Alemania",
    email: "Correo electrónico:",
    phone: "Teléfono:",
    dataCollectionWebsite: "Recopilación de Datos en Nuestro Sitio Web",
    cookies: "Cookies",
    cookiesText: "Este sitio web utiliza cookies para almacenar sus preferencias y configuraciones. Estas son pequeños archivos de texto que se almacenan en su computadora. Estas cookies no dañan su computadora y no contienen virus. Las cookies sirven para hacer que nuestra oferta sea más fácil de usar, efectiva y segura.",
    localStorage: "Almacenamiento Local",
    localStorageText: "Este sitio web utiliza almacenamiento local para guardar sus números de EuroJackpot y preferencias. Estos datos se almacenan localmente en su dispositivo y no se transmiten a nuestros servidores.",
    awstats: "AWStats",
    awstatsText: "Este sitio web utiliza AWStats para análisis web. AWStats analiza archivos de registro del servidor para proporcionar estadísticas sobre el uso del sitio web. Esto incluye información como números de visitantes, vistas de página y datos de referencia. No se almacenan datos personales ni se transmiten a terceros.",
    netcup: "Netcup Webhosting",
    netcupText: "Este sitio web está alojado por netcup GmbH, ubicada en Núremberg, Alemania. Los registros del servidor pueden recopilarse con fines técnicos y de seguridad. Todos los datos se procesan de acuerdo con las leyes alemanas y europeas de protección de datos.",
    privacyPolicy: "Política de Privacidad"
  }
};

// Get the appropriate text based on language
const t = texts[lang] || texts.en;
---

<div class="container mx-auto px-4 py-16">
  <header class="mb-8">
    <a href={backLink} class="text-blue-400 hover:text-blue-300 mb-4 inline-block">{backText}</a>
    <h1 class="text-4xl font-bold mb-4" data-i18n="privacy.title">Privacy Policy</h1>
  </header>
  
  <section class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700 p-6 mb-8">
    <div class="privacy-content">
      <div data-i18n="privacy.content">Information about data protection and privacy</div>
      
      <div class="mt-6">
        <h2 class="text-2xl font-bold mb-4">1. {t.dataProtection}</h2>
        <h3 class="text-xl font-bold mb-2">{t.generalInfo}</h3>
        <p class="mb-4">{t.generalInfoText}</p>
        
        <h3 class="text-xl font-bold mb-2">{t.dataCollection}</h3>
        <p class="mb-4">
          <strong>{t.whoResponsible}</strong><br>
          {t.whoResponsibleText}
        </p>
        
        <h3 class="text-xl font-bold mb-2">{t.howCollect}</h3>
        <p class="mb-4">{t.howCollectText}</p>
        
        <h3 class="text-xl font-bold mb-2">{t.whatUse}</h3>
        <p class="mb-4">{t.whatUseText}</p>
        
        <h3 class="text-xl font-bold mb-2">{t.whatRights}</h3>
        <p class="mb-4">{t.whatRightsText}</p>
        
        <h2 class="text-2xl font-bold mb-4 mt-8">2. {t.generalInfoMandatory}</h2>
        <h3 class="text-xl font-bold mb-2">{t.dataProtectionSection}</h3>
        <p class="mb-4">{t.dataProtectionText}</p>
        
        <h3 class="text-xl font-bold mb-2">{t.responsibleParty}</h3>
        <p class="mb-4">
          {t.responsiblePartyText}<br>
          <span id="name"></span><br>
          <span id="address1"></span><br>
          <span id="address2"></span><br>
          {t.country}<br>
          <br>
          {t.email} <span id="email"></span><br>
          {t.phone} <span id="phone"></span>
        </p>
        
        <h2 class="text-2xl font-bold mb-4 mt-8">3. {t.dataCollectionWebsite}</h2>
        <h3 class="text-xl font-bold mb-2">{t.cookies}</h3>
        <p class="mb-4">{t.cookiesText}</p>
        
        <h3 class="text-xl font-bold mb-2">{t.localStorage}</h3>
        <p class="mb-4">{t.localStorageText}</p>
        
        <h3 class="text-xl font-bold mb-2">{t.awstats}</h3>
        <p class="mb-4">{t.awstatsText}</p>
        
        <h3 class="text-xl font-bold mb-2">{t.netcup}</h3>
        <p class="mb-4">{t.netcupText}</p>
        
      </div>
    </div>
  </section>
</div>

<script define:vars={{ lang }} is:inline>
  // We'll use the client script to handle initialization
  document.addEventListener('DOMContentLoaded', () => {
    // Set language based on the prop
    localStorage.setItem('language', lang);
  });
</script>

<script>
  import { i18n } from '../i18n/i18n';
  import { initContactInfo } from '../utils/contactEncryption';
  
  // Initialize i18n and contact info
  i18n.init();
  initContactInfo();
</script>